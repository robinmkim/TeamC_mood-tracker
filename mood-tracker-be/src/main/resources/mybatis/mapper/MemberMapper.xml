<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.teamc.moodtracker.dao.MemberDao">
    <insert id="addMember" parameterType="mvo">
        INSERT INTO member (m_id, m_name, m_handle, m_email, m_pwd, m_bdate, regdate, m_gender, m_img_name, m_img_path, m_bio, m_role)
        VALUES (member_seq.nextval, #{m_name}, #{m_handle}, #{m_email}, #{m_pwd}, to_date(#{m_bdate},'YYYY-MM-DD'), sysdate, #{m_gender}, #{m_img_name}, #{m_img_path}, #{m_bio}, #{m_role})
    </insert>
    <select id="getMemberByMEmail" resultType="mvo">
        SELECT * FROM member WHERE m_email = #{m_email}
    </select>
    <select id="checkEmailExists" parameterType="String" resultType="int">
        SELECT COUNT(*) FROM member WHERE m_email = #{email}
    </select>


    <select id="getMemberInfo_board" parameterType="int" resultType="cmvo"><!-- 윤영호  -->
        select m_id, m_name, m_handle, m_img_name, m_img_path from member where m_id=#{mid}
    </select>

</mapper>